--[[xively_routine.luaXively Routine Lua Script to communicate with Xively ServerCopyright 2014 Dragino Tech <info@dragino.com>Licensed under the Apache License, Version 2.0 (the "License");you may not use this file except in compliance with the License.You may obtain a copy of the License at	http://www.apache.org/licenses/LICENSE-2.0]]--local xively = require ("dragino.iot.xively")local uci = require("luci.model.uci")uci = uci.cursor()local post_interval = tonumber(uci:get('xively','general','update_interval'))   --interval to update data to Xivelylocal old_time = os.time()local cur_time = old_timelocal feed = uci:get("xively","general","feed")local apikey = uci:get("xively","general","apikey")while true do	cur_time = os.time()	if cur_time - old_time > post_interval then		xively.update_data(apikey,feed)		old_time = cur_time	endend